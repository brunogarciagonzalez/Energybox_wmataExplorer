(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(e,t,n){e.exports=n(285)},165:function(e,t,n){},285:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(32),i=n.n(r),o=(n(165),n(147)),c=n(150),u=n(128),s=n(129),m=n(148),d=n(130),v=n(149),C=function(e){return l.a.createElement("h1",null,l.a.createElement("center",null,l.a.createElement("span",{role:"img","aria-label":"train emoji"},"\ud83d\ude86"),"WMATA Train Explorer",l.a.createElement("span",{role:"img","aria-label":"train emoji"},"\ud83d\ude86")))},h=n(292),f=n(290),y=[{key:"noFilter",text:"Don't Filter",value:"noFilter"},{key:"OR",text:"Orange",value:"OR"},{key:"SV",text:"Silver",value:"SV"},{key:"BL",text:"Blue",value:"BL"},{key:"RD",text:"Red",value:"RD"},{key:"GR",text:"Green",value:"GR"},{key:"YL",text:"Yellow",value:"YL"}],E=[{key:"noFilter",text:"Don't Filter",value:"noFilter"},{key:"0",text:"0",value:0},{key:"2",text:"2",value:2},{key:"6",text:"6",value:6},{key:"8",text:"8",value:8}],F=[{key:"noFilter",text:"Don't Filter",value:"noFilter"},{key:"Normal",text:"Normal",value:"Normal"},{key:"NoPassengers",text:"No Passengers",value:"NoPassengers"},{key:"Unknown",text:"Unknown",value:"Unknown"}],p=function(e){return l.a.createElement(h.a,null,l.a.createElement("center",null,l.a.createElement(f.a,{selection:!0,onChange:function(t,n){return e.handleFilterChange(n.value,"lineColorFilter")},placeholder:"Filter By Line Color",options:y}),l.a.createElement(f.a,{selection:!0,onChange:function(t,n){return e.handleFilterChange(n.value,"carCountFilter")},placeholder:"Filter By Car Count",options:E}),l.a.createElement(f.a,{selection:!0,onChange:function(t,n){return e.handleFilterChange(n.value,"serviceTypeFilter")},placeholder:"Filter By Service Type",options:F})))},k=n(291),g={SV:"silver",RD:"red",OR:"orange",BL:"blue",YL:"yellow",GR:"green"},T=function(e){var t=e.trainObj,n=t.TrainId,a=t.TrainNumber,r=t.LineCode,i=t.ServiceType,o=t.CarCount,c=t.CircuitId,u=t.SecondsAtLocation;return l.a.createElement(k.a.Row,null,l.a.createElement(k.a.Cell,null,n),l.a.createElement(k.a.Cell,null,a),l.a.createElement(k.a.Cell,{style:{backgroundColor:r?g[r]:null}},r||" N / A"),l.a.createElement(k.a.Cell,null,i),l.a.createElement(k.a.Cell,null,o),l.a.createElement(k.a.Cell,null,c),l.a.createElement(k.a.Cell,null,u))},w=function(e){return l.a.createElement(k.a,{celled:!0},l.a.createElement(k.a.Header,null,l.a.createElement(k.a.Row,null,l.a.createElement(k.a.HeaderCell,null,"Train ID"),l.a.createElement(k.a.HeaderCell,null,"Train No."),l.a.createElement(k.a.HeaderCell,null,"Line Code"),l.a.createElement(k.a.HeaderCell,null,"Service Type"),l.a.createElement(k.a.HeaderCell,null,"Car Count"),l.a.createElement(k.a.HeaderCell,null,"Circuit ID"),l.a.createElement(k.a.HeaderCell,null,"Seconds At Location"))),l.a.createElement(k.a.Body,null,e.trains.map(function(e,t){return l.a.createElement(T,{key:e.TrainId,trainObj:e})})))},b="e13626d03d8e4c03ac07f95541b3091b",x="https://api.wmata.com/TrainPositions/TrainPositions?contentType=json",I=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).trainsFetch=function(){fetch(x,{headers:{api_key:b}}).then(function(e){return e.json()}).then(function(t){var n=t.TrainPositions.sort(function(e,t){return parseInt(e.TrainId)-parseInt(t.TrainId)});e.setState({trains:n})})},e.handleFilterChange=function(t,n){var a=Object(c.a)({},e.state.filters);a[n]=t,e.setState({filters:a})},e.filteredTrains=function(){var t=e.state.filters,n=t.lineColorFilter,a=t.carCountFilter,l=t.serviceTypeFilter,r=Object(o.a)(e.state.trains);return"noFilter"!==n&&(r=r.filter(function(e){return e.LineCode===n})),"noFilter"!==a&&(r=r.filter(function(e){return e.CarCount===a})),"noFilter"!==l&&(r=r.filter(function(e){return e.ServiceType===l})),r},e.state={trains:[],intervalID:0,filters:{lineColorFilter:"noFilter",carCountFilter:"noFilter",serviceTypeFilter:"noFilter"}},e}return Object(v.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.trainsFetch();var e=setInterval(this.trainsFetch,5e3);this.setState({intervalID:e})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalID)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(C,null),l.a.createElement(p,{handleFilterChange:this.handleFilterChange}),l.a.createElement(w,{trains:this.filteredTrains()}))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[160,1,2]]]);
//# sourceMappingURL=main.702ef411.chunk.js.map